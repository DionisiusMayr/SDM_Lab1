{"paperId": "01e858656aa3ef8d6b8463042298d86473236985", "publicationVenue": null, "title": "Steering Query Optimizers: A Practical Take on Big Data Workloads", "abstract": "In recent years, there has been tremendous interest in research that applies machine learning to database systems. Being one of the most complex components of a DBMS, query optimizers could benefit from adaptive policies that are learned systematically from the data and the query workload. Recent research has brought up novel ideas towards a learned query optimizer, however these ideas have not been evaluated on a commercial query processor or on large scale, real-world workloads. In this paper, we take the approach used by Marcus et al. in Bao and adapt it to SCOPE, a big data system used internally at Microsoft. Along the way, we solve multiple new challenges: we define how optimizer rules affect final query plans by introducing the concept of a rule signature, we devise a pipeline computing interesting rule configurations for recurring jobs, and we define a new learning problem allowing us to apply such interesting rule configurations to previously unseen jobs. We evaluate the efficacy of the approach on production workloads that include 150K daily jobs. Our results show that alternative rule configurations can generate plans with lower costs, and this can translate to runtime latency savings of 7-30% on average and up to 90% for a non trivial subset of the workload.", "venue": "SIGMOD Conference", "year": 2021, "fieldsOfStudy": ["Computer Science"], "publicationTypes": ["Book", "JournalArticle", "Conference"], "publicationDate": "2021-06-09", "journal": {"name": "Proceedings of the 2021 International Conference on Management of Data"}, "authors": [{"authorId": "50816104", "name": "Parimarjan Negi"}, {"authorId": "2192580", "name": "Matteo Interlandi"}, {"authorId": "40412858", "name": "Ryan Marcus"}, {"authorId": "79404966", "name": "Mohammad Alizadeh"}, {"authorId": "1746961", "name": "Tim Kraska"}, {"authorId": "143634544", "name": "Marc T. Friedman"}, {"authorId": "2153832", "name": "Alekh Jindal"}], "citations": [{"paperId": "b7aeca3f9116da88c89357b0cf4438401bc7ba3b", "title": "GEqO: ML-Accelerated Semantic Equivalence Detection"}, {"paperId": "4d32593f8a4707cb8827b822b9e4686f00d7216e", "title": "Analytical Queries: A Comprehensive Survey"}, {"paperId": "91c7ebb46a31c6b062533715d7d49614ffcfe6e9", "title": "AutoSteer: Learned Query Optimization for Any SQL Database"}, {"paperId": "855ab0adf39f42fcc5bd25d5beccab404376d6ab", "title": "QO-Insight: Inspecting Steered Query Optimizers"}, {"paperId": "ac08fa76038762f89a0f6c39ea38655422926408", "title": "Towards Building Autonomous Data Services on Azure"}, {"paperId": "65eca63de01a9e43fec47ea70f67f312acf61eb0", "title": "Auto-WLM: Machine Learning Enhanced Workload Management in Amazon Redshift"}, {"paperId": "e7f0b9fa8a25a52caa0c1f15039ff6b3c3b77f82", "title": "Efficiently Computing Join Orders with Heuristic Search"}, {"paperId": "f9bb72f8c2d92452ac98b8b715dedcc5926396f0", "title": "LEON: A New Framework for ML-Aided Query Optimization"}, {"paperId": "88bf135c299639b00c97e2e5604318d8a925732d", "title": "SUFS: A Generic Storage Usage Forecasting Service Through Adaptive Ensemble Learning"}, {"paperId": "f497094c7763eb86275ea4798859d9795f1398dc", "title": "Learned Query Superoptimization"}, {"paperId": "2ac50dd12f47b48a9f1109e8f82f55cc66548e5e", "title": "Lero: A Learning-to-Rank Query Optimizer"}, {"paperId": "9cf7d3e717f5bc5237ef28352a41d3f01e50442f", "title": "Learned Systems Security"}, {"paperId": "6d1814d08f240d0efde960e12d027b6bede3405d", "title": "FactorJoin: A New Cardinality Estimation Framework for Join Queries"}, {"paperId": "344fcf9c139da6c21fa9516a1f57b586507a0d53", "title": "Query Optimizer as a Service"}, {"paperId": "be7f5a911ccd4dee39bcc523c884f4c98bf4c3f4", "title": "A Query Optimizer for Range Queries over Multi-Attribute Trajectories"}, {"paperId": "8e2aefa5baeb2a250f15920976a94721bff004d5", "title": "Deploying a Steered Query Optimizer in Production at Microsoft"}, {"paperId": "d3ed461c2de100dd212c4bae6fdd7f01193b595e", "title": "Bao"}, {"paperId": "d207a88e5c90c615a19ea6c83a3e7d15ef39885e", "title": "Multi-agent Databases via Independent Learning"}, {"paperId": "ba2770c990b740b6dfa4a122ac4ad719868796dd", "title": "An Empirical Study on Quality Issues of eBay's Big Data SQL Analytics Platform"}, {"paperId": "baa9d914ef9612cb1d61e6ac6bc6ed7269db4759", "title": "A Learned Query Rewrite System using Monte Carlo Tree Search"}, {"paperId": "689f70ea07215b58e39dfc624480b2b8e8c5848a", "title": "PerfGuard: Deploying ML-for-Systems without Performance Regressions, Almost!"}, {"paperId": "b362eae4b08e36a01e03ab2b7a51870ebf6d3a97", "title": "Machine Learning for Cloud Data Systems: the Promise, the Progress, and the Path Forward"}, {"paperId": "15a1e0ec53c9b710bbb4252bdd454b870a35b5e1", "title": "SparkCruise: Workload Optimization in Managed Spark Clusters at Microsoft"}, {"paperId": "a68555a8d702ad5add8ffacb8b5d654df5c2f30c", "title": "Towards instance-optimized data systems"}, {"paperId": "a397840de4303ca3346466632466892a6a69829a", "title": "PilotScope: Steering Databases with Machine Learning Drivers"}, {"paperId": "3697561ebf4543d49d3cf27f47e05acd229deab7", "title": "QPSeeker: An Efficient Neural Planner combining both data and queries through Variational Inference"}, {"paperId": "4d6c31599cefddf90133b1907aa7d42ed8de04ff", "title": "Learned Query Superoptimization (Extended Abstract)"}, {"paperId": "198d20aa464124dba673da6dc2b10548290233f0", "title": "Learned Query Optimizer: At the Forefront of AI-Driven Databases"}]}
