{"paperId": "7c902c4fd3d09a988d3a85917dd1c03a7e45338f", "publicationVenue": null, "title": "Photon: A Fast Query Engine for Lakehouse Systems", "abstract": "Many organizations are shifting to a data management paradigm called the \"Lakehouse,\" which implements the functionality of structured data warehouses on top of unstructured data lakes. This presents new challenges for query execution engines. The engine needs to provide good performance on the raw uncurated datasets that are ubiquitous in data lakes, and excellent performance on structured data stored in popular columnar file formats like Apache Parquet. Toward these goals, we present Photon, a vectorized query engine for Lakehouse environments that we developed at Databricks. Photon can outperform existing warehouses on SQL workloads and also supports the Apache Spark API. We discuss the design choices we made in Photon (e.g., vectorization vs. code generation) and describe its integration with our existing SQL and Apache Spark runtimes, its task model, and its memory manager. Photon has accelerated some customer workloads by over 10x and has recently allowed Databricks to set a new audited performance record for the official 100TB TPC-DS benchmark.", "venue": "SIGMOD Conference", "year": 2022, "fieldsOfStudy": ["Computer Science"], "publicationTypes": ["Book", "JournalArticle", "Conference"], "publicationDate": "2022-06-10", "journal": {"name": "Proceedings of the 2022 International Conference on Management of Data"}, "authors": [{"authorId": "3177354", "name": "Alexander Behm"}, {"authorId": "2642390", "name": "Shoumik Palkar"}, {"authorId": "2061118026", "name": "Utkarsh Agarwal"}, {"authorId": "2618428", "name": "Timothy G. Armstrong"}, {"authorId": "2064396678", "name": "David Cashman"}, {"authorId": "2959744", "name": "Ankur Dave"}, {"authorId": "2161545563", "name": "Todd Greenstein"}, {"authorId": "40654083", "name": "Shant Hovsepian"}, {"authorId": "40240897", "name": "Ryan Johnson"}, {"authorId": "1574070067", "name": "A. Krishnan"}, {"authorId": "2958638", "name": "Paul Leventis"}, {"authorId": "2169793785", "name": "A. Luszczak"}, {"authorId": "39882369", "name": "Prashanth Menon"}, {"authorId": "36552163", "name": "Mostafa Mokhtar"}, {"authorId": "2286031", "name": "Gene Pang"}, {"authorId": "2101768756", "name": "Sameer Paranjpye"}, {"authorId": "1397042707", "name": "Greg Rahn"}, {"authorId": "2922886", "name": "Bart Samwel"}, {"authorId": "51440819", "name": "T. V. Bussel"}, {"authorId": "2170221744", "name": "Herman Van Hovell"}, {"authorId": "2161545940", "name": "Maryann Xue"}, {"authorId": "2066641", "name": "Reynold Xin"}, {"authorId": "143834867", "name": "M. Zaharia"}], "citations": [{"paperId": "70d71af0705a484928fd9b8189ca331b57c8d188", "title": "Enhancing Data Lakes with GraphAr: Efficient Graph Data Management with a Specialized Storage Scheme"}, {"paperId": "e8b725c49e18a28bbdad9f1623f176b32b9e52d0", "title": "Integrating Velox into TinkerPop for Graph Queries on Vectorized Engine"}, {"paperId": "11fa69602e876870a5281157a1415368c8033dd2", "title": "Big Data Analytic Toolkit: A general-purpose, modular, and heterogeneous acceleration toolkit for data analytical engines"}, {"paperId": "476124d8221f9ea7b1272e8daca4f92f59c1409f", "title": "Exploiting Cloud Object Storage for High-Performance Analytics"}, {"paperId": "2bd5aaf20b65cefe742b2ec86ca7c9b9061c836a", "title": "In-depth Analysis On Parallel Processing Patterns for High-Performance Dataframes"}, {"paperId": "60ba359fccf0cbe952931fb8cb132035f0313198", "title": "Selection Pushdown in Column Stores using Bit Manipulation Instructions"}, {"paperId": "742b584c6a15daff95198b56dafd3eeb75f33722", "title": "BtrBlocks: Efficient Columnar Compression for Data Lakes"}, {"paperId": "f4b1c42e55a84ed565fce6cfb6712d334dcb38ed", "title": "Presto: A Decade of SQL Analytics at Meta"}, {"paperId": "830eae09b31371a0c0cbe42f100450b0fb6837c6", "title": "Exploring Fine-Grained In-Memory Database Performance for Modern CPUs"}, {"paperId": "fc1633d6d3f4ea034f839e889a58fbd46edb3b61", "title": "The Composable Data Management System Manifesto"}, {"paperId": "94380e72ff9f4e319b4f192412db1dd1388ae804", "title": "Spatial big data architecture: From Data Warehouses and Data Lakes to the LakeHouse"}, {"paperId": "bb2116bac9257c34f9f99e2a952139a2d4bb00b8", "title": "Supercharging Distributed Computing Environments For High Performance Data Engineering"}, {"paperId": "48d6af19e4decc315843e9fe62ff8655a31d6281", "title": "Future Database Engine Development: You Will Only Need One Programming Language"}, {"paperId": "41bc129af613d532053cd834bb394dcf4a2d8743", "title": "Excalibur: A Virtual Machine for Adaptive Fine-grained JIT-Compiled Query Execution based on VOILA"}, {"paperId": "3c580b5ffd611098edaaacdd921759705f9ebffa", "title": "Deep Lake: a Lakehouse for Deep Learning"}, {"paperId": "f90393cef0ce3b4653ce8519fd4d97e1fe6b8a62", "title": "ORBITER: um Arcabou\u00e7o para Implanta\u00e7\u00e3o Autom\u00e1tica de Aplica\u00e7\u00f5es Big Data em Arquiteturas Serverless"}, {"paperId": "1a98026464a69d5cf120e59e4ed09a8122c4a156", "title": "Sigma Workbook: A Spreadsheet for Cloud Data Warehouses"}, {"paperId": "423cfc9d5f61e1deca43b5a82d1d503c4ddf339e", "title": "Towards Unifying Query Interpretation and Compilation"}, {"paperId": "9fa364d966f4ef8231ff5d67bc03949fb178381f", "title": "High-Performance Database Management System Design for Efficient Query Scheduling"}, {"paperId": "017ed88c7a7f4d72319bcf5821b591b694fd23f7", "title": "The History, Present, and Future of ETL Technology (invited)"}, {"paperId": "52a02a99c5bb79a7e4ebddd8fa9867e22aff6c97", "title": "Analyzing and Comparing Lakehouse Storage Systems"}, {"paperId": "8e6e1c70b9d505a4d35c5a67db4b400f6e51f3aa", "title": "Seamless Integration of Parquet Files into Data Processing"}, {"paperId": "232be7f0e591d30dfa081e2800ff8728636660a2", "title": "Assessing the Lakehouse: Analysis, Requirements and Definition"}, {"paperId": "150c8db66022a7211f7f44c8c909bc6855ffdaa0", "title": "Assembling a Query Engine From Spare Parts"}, {"paperId": "ce71be82ff41e0849f09cf337faa943989dd9c08", "title": "Incremental Fusion: Unifying Compiled and Vectorized Query Execution"}]}
