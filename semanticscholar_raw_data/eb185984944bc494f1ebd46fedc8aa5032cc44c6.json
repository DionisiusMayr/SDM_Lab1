{"paperId": "eb185984944bc494f1ebd46fedc8aa5032cc44c6", "publicationVenue": {"id": "1901e811-ee72-4b20-8f7e-de08cd395a10", "name": "arXiv.org", "alternate_names": ["ArXiv"], "issn": "2331-8422", "url": "https://arxiv.org"}, "title": "LLM-SQL-Solver: Can LLMs Determine SQL Equivalence?", "abstract": "Judging the equivalence between two SQL queries is a fundamental problem with many practical applications in data management and SQL generation (i.e., evaluating the quality of generated SQL queries in text-to-SQL task). While the research community has reasoned about SQL equivalence for decades, it poses considerable difficulties and no complete solutions exist. Recently, Large Language Models (LLMs) have shown strong reasoning capability in conversation, question answering and solving mathematics challenges. In this paper, we study if LLMs can be used to determine the equivalence between SQL queries under two notions of SQL equivalence (semantic equivalence and relaxed equivalence). To assist LLMs in generating high quality responses, we present two prompting techniques: Miniature&Mull and Explain&Compare. The former technique is used to evaluate the semantic equivalence in which it asks LLMs to execute a query on a simple database instance and then explore if a counterexample exists by modifying the database. The latter technique is used to evaluate the relaxed equivalence in which it asks LLMs to explain the queries and then compare if they contain significant logical differences. Our experiments demonstrate using our techniques, LLMs is a promising tool to help data engineers in writing semantically equivalent SQL queries, however challenges still persist, and is a better metric for evaluating SQL generation than the popular execution accuracy.", "venue": "arXiv.org", "year": 2023, "fieldsOfStudy": ["Computer Science"], "publicationTypes": ["JournalArticle"], "publicationDate": "2023-12-16", "journal": {"name": "ArXiv", "volume": "abs/2312.10321"}, "authors": [{"authorId": "2087912469", "name": "Fuheng Zhao"}, {"authorId": "2052571727", "name": "Lawrence Lim"}, {"authorId": "2074279232", "name": "Ishtiyaque Ahmad"}, {"authorId": "143970078", "name": "D. Agrawal"}, {"authorId": "1709353", "name": "A. E. Abbadi"}], "citations": []}
