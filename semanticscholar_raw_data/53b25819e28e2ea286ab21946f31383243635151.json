{"paperId": "53b25819e28e2ea286ab21946f31383243635151", "publicationVenue": {"id": "fcbcaf18-8ab1-43e1-a973-604bbc7e344e", "name": "Proceedings of the VLDB Endowment", "type": "journal", "alternate_names": ["Proceedings of The Vldb Endowment", "Proc VLDB Endow", "Proc Vldb Endow"], "issn": "2150-8097", "url": "http://dl.acm.org/toc.cfm?id=J1174", "alternate_urls": ["http://portal.acm.org/toc.cfm?CFID=21632689&CFTOKEN=99329904&WantType=Affiliated%20Organizations&coll=ACM&dl=ACM&id=J1174&idx=J1174&part=affil&title=VLDB%20Endowment&type=periodical"]}, "title": "Are We Ready For Learned Cardinality Estimation?", "abstract": "Cardinality estimation is a fundamental but long unresolved problem in query optimization. Recently, multiple papers from different research groups consistently report that learned models have the potential to replace existing cardinality estimators. In this paper, we ask a forward-thinking question: Are we ready to deploy these learned cardinality models in production? Our study consists of three main parts. Firstly, we focus on the static environment (i.e., no data updates) and compare five new learned methods with eight traditional methods on four real-world datasets under a unified workload setting. The results show that learned models are indeed more accurate than traditional methods, but they often suffer from high training and inference costs. Secondly, we explore whether these learned models are ready for dynamic environments (i.e., frequent data updates). We find that they cannot catch up with fast data up-dates and return large errors for different reasons. For less frequent updates, they can perform better but there is no clear winner among themselves. Thirdly, we take a deeper look into learned models and explore when they may go wrong. Our results show that the performance of learned methods can be greatly affected by the changes in correlation, skewness, or domain size. More importantly, their behaviors are much harder to interpret and often unpredictable. Based on these findings, we identify two promising research directions (control the cost of learned models and make learned models trustworthy) and suggest a number of research opportunities. We hope that our study can guide researchers and practitioners to work together to eventually push learned cardinality estimators into real database systems.", "venue": "Proceedings of the VLDB Endowment", "year": 2020, "fieldsOfStudy": ["Computer Science"], "publicationTypes": ["JournalArticle"], "publicationDate": "2020-12-12", "journal": {"name": "ArXiv", "volume": "abs/2012.06743"}, "authors": [{"authorId": "1519970426", "name": "Xiaoying Wang"}, {"authorId": "46694107", "name": "Changbo Qu"}, {"authorId": "2047416704", "name": "Weiyuan Wu"}, {"authorId": "1743709", "name": "Jiannan Wang"}, {"authorId": "2118411704", "name": "Qingqing Zhou"}], "citations": [{"paperId": "7074c56b0769468ce637e38b31c0714baa68ec7c", "title": "Query execution time estimation in graph databases based on graph neural networks"}, {"paperId": "7ae66b6e5c3394f2113c346e241f07388bf4d56f", "title": "Sub-optimal Join Order Identification with L1-error"}, {"paperId": "20aa90187af7dd6508fa32ab438ea243fee0f5fa", "title": "PACE: Poisoning Attacks on Learned Cardinality Estimation"}, {"paperId": "efae83d8172afa385330a2ba612ef0a7ff1749ea", "title": "One Seed, Two Birds: A Unified Learned Structure for Exact and Approximate Counting"}, {"paperId": "3cd7ef9cb20082deb8f90a1d52ae04ae31b512ec", "title": "Computing Data Distribution from Query Selectivities"}, {"paperId": "1da97ff5cc28f668fc6e3e51a190d092162fd3df", "title": "Robust Listwise Learning-to-Rank Approach for Database Query Optimizer"}, {"paperId": "d13b3c9d4a7bd05133578e566657658dc531e29f", "title": "Adding Domain Knowledge to Query-Driven Learned Databases"}, {"paperId": "6b75ea3ff7cafabbeae3dab4366998808f678379", "title": "Efficient Cardinality and Cost Estimation with Bidirectional Compressor-based Ensemble Learning"}, {"paperId": "35a2cf25d8c38f52b9438e68246a4e46bef2b693", "title": "A Comparative Study and Component Analysis of Query Plan Representation Techniques in ML4DB Studies"}, {"paperId": "b76e903b9f1a9c7c51962a79eda10885efda1d35", "title": "Sample-Efficient Cardinality Estimation Using Geometric Deep Learning"}, {"paperId": "470a2ddb7028b68d8b476a105e01950858279696", "title": "Analyzing Query Optimizer Performance in the Presence and Absence of Cardinality Estimates"}, {"paperId": "cb05ef87cf3c8616626e3648f6a4146199acf57f", "title": "Machine Unlearning in Learned Databases: An Experimental Analysis"}, {"paperId": "5b074f5fc20a1428093e5d8836c5e38efd231e33", "title": "Methodology of Algorithm Engineering"}, {"paperId": "b53e3a987571564332cd0a40da2a8eb164cadb7d", "title": "ALECE: An Attention-based Learned Cardinality Estimator for SPJ Queries on Dynamic Workloads (Extended)"}, {"paperId": "19ebe343e3a3b85f5655579fd54a99f8075bd444", "title": "A Hybrid Cost Model for Evaluating Query Execution Plans"}, {"paperId": "3dd82e0ab1e141e0e57f2807a5123458f6b1388e", "title": "ShadowAQP: Efficient Approximate Group-by and Join Query via Attribute-oriented Sample Size Allocation and Data Generation"}, {"paperId": "8add1ac7b254b259c038db8027990d44390bd5b3", "title": "Cardinality estimation using normalizing flow"}, {"paperId": "9243a213d4d0b296e653acc56c3432a0eeb3c805", "title": "Optimizing the cloud? Don't train models. Build oracles!"}, {"paperId": "91c7ebb46a31c6b062533715d7d49614ffcfe6e9", "title": "AutoSteer: Learned Query Optimization for Any SQL Database"}, {"paperId": "eb6c926db623073c854c7871ae40b4fe5b42759e", "title": "Cardinality estimation with smoothing autoregressive models"}, {"paperId": "c8071c6336bc0dbb3fbe9025c9ff2bb6c5d66f13", "title": "Duet: efficient and scalable hybriD neUral rElation undersTanding"}, {"paperId": "12e8be17e7fba74dbb329a2e42a38bdb7daac456", "title": "Cardinality Estimation Via Learned Dynamic Sample Selection"}, {"paperId": "75d7e643f1e1f071213a712fe407a73336d23465", "title": "Cardinality estimation of activity trajectory similarity queries using deep learning"}, {"paperId": "627ba62ff6b67e1c549a77498060a8c65165c6d5", "title": "Enhanced Learned Query Driven Cardinality Estimator with Active Learning"}, {"paperId": "67322d753c9e05f19e7df54923a722d9d68e4e62", "title": "SQL2Circuits: Estimating Metrics for SQL Queries with A Quantum Natural Language Processing Method"}, {"paperId": "de17afa89e38658e1a2e7b5c357856aa08ba0dd7", "title": "dbET: Execution Time Distribution-based Plan Selection"}, {"paperId": "81b9ebe4c6785351eafd0fc21d24851ce25f01ed", "title": "Efficient and Effective Cardinality Estimation for Skyline Family"}, {"paperId": "9a91890329b65d43d91b0d83399d68949bd85ad5", "title": "Speeding Up End-to-end Query Execution via Learning-based Progressive Cardinality Estimation"}, {"paperId": "1c16af1a48b86c01bd4dea7ee873131fafefb6df", "title": "Kepler: Robust Learning for Parametric Query Optimization"}, {"paperId": "883ea41a62f0fdd8aeaf61656734bc319cdca4da", "title": "DotHash: Estimating Set Similarity Metrics for Link Prediction and Document Deduplication"}, {"paperId": "cd5f2ebab4cb7f310d577cbc17a2b0b708b99bdc", "title": "Query cost estimation in graph databases via emphasizing query dependencies by using a neural reasoning network"}, {"paperId": "c20c6a8bf89bd6fc9b4d8bfa10d275b55b22c9af", "title": "LMSFC: A Novel Multidimensional Index based on Learned Monotonic Space Filling Curves"}, {"paperId": "2b1de070063d5e63729099a722888a52ede20225", "title": "The Evaluation Benchmark for SP ARQL Federated Query"}, {"paperId": "66a4fddcff2e219dd2c98e92ce897a384cda09d6", "title": "Partitioner Selection with EASE to Optimize Distributed Graph Processing"}, {"paperId": "6c4939564ba3d47fd4e54ff6084128f21ddb8037", "title": "AutoCE: An Accurate and Efficient Model Advisor for Learned Cardinality Estimation"}, {"paperId": "88bf135c299639b00c97e2e5604318d8a925732d", "title": "SUFS: A Generic Storage Usage Forecasting Service Through Adaptive Ensemble Learning"}, {"paperId": "77566e8ceea14a8ba87c56bb038a4436e430c5ba", "title": "Less is More: Towards Lightweight Cost Estimator for Database Systems"}, {"paperId": "023fbffad88fd923d33c1e3ac33262b396123065", "title": "A Step Toward Deep Online Aggregation"}, {"paperId": "b67c9d9c32ee5dc8c4394fe78e8715e7e5fdb1c8", "title": "MOSE: A Monotonic Selectivity Estimator Using Learned CDF"}, {"paperId": "aa293f214db7f0d830e26543a4af6c69e8088c2f", "title": "WISK: A Workload-aware Learned Index for Spatial Keyword Queries"}, {"paperId": "ab46b919ed09cf213467463541170c6ab7845087", "title": "Robust Query Driven Cardinality Estimation under Changing Workloads"}, {"paperId": "2ac50dd12f47b48a9f1109e8f82f55cc66548e5e", "title": "Lero: A Learning-to-Rank Query Optimizer"}, {"paperId": "e89ab345ac30b6020dddc37fa5c5da5b4f590087", "title": "SafeBound: A Practical System for Generating Cardinality Bounds"}, {"paperId": "c85ed937562106a6c9016dbb42e2b48cc298cadc", "title": "Efficient Learning with Pseudo Labels for Query Cost Estimation"}, {"paperId": "e12a970a0069ae11b99616694cfb715a01c29f6e", "title": "Detect, Distill and Update: Learned DB Systems Facing Out of Distribution Data"}, {"paperId": "101ebe94e575626f2b4861a281cac5127a0e6c77", "title": "Selectivity Estimation of Inequality Joins In Databases"}, {"paperId": "3a9ea02441c6030c6fa3788c0ba8bfee22eb1bb0", "title": "Selectivity Functions of Range Queries are Learnable"}, {"paperId": "a6f9d5ca6b5eb637d93e69af9d924f6491e94267", "title": "Learned Cardinality Estimation: An In-depth Study"}, {"paperId": "6397ec27b8f11072668c1d447dc6a5dc019050b7", "title": "Lightweight and Accurate Cardinality Estimation by Neural Network Gaussian Process"}, {"paperId": "7a05a5351cc30d7500c0291481899e1a358a72a8", "title": "HAP: An Efficient Hamming Space Index Based on Augmented Pigeonhole Principle"}, {"paperId": "354fbd6c940ead125fe995503b87462470d2d4f5", "title": "Database Optimizers in the Era of Learning"}, {"paperId": "95a7e4b4d535a9c61a6f466a090a4004ef151b50", "title": "Machine Learning for Data Management: A System View"}, {"paperId": "2d0ebd1f409aade2d1ef029d803374c0702fab5a", "title": "MOSE: A Monotonic Selectivity Estimator Using Learned CDF (Extended abstract)"}, {"paperId": "16a76db973fa3ec95120fc06f1f6ff14c17d8136", "title": "PreKar: A learned performance predictor for knowledge graph stores"}, {"paperId": "96cf4ec5074230d92d8098cfd69daafba9701258", "title": "Efficient Query Re-optimization with Judicious Subquery Selections"}, {"paperId": "e22327650db67212e382749af2160f11f27fac3b", "title": "Degree Sequence Bound For Join Cardinality Estimation"}, {"paperId": "026ab4ed573b3439ba89bbb193478e9ff396ef24", "title": "Balsa: Learning a Query Optimizer Without Expert Demonstrations"}, {"paperId": "4deb6baeb22a1744a9ae1ff1de65a94c5ef0f93d", "title": "Experience-Enhanced Learning: One Size Still does not Fit All in Automatic Database"}, {"paperId": "7b8a2e2a040a7529360e558ef89a8dc05e171bbe", "title": "Simpli-Squared: A Very Simple Yet Unexpectedly Powerful Join Ordering Algorithm Without Cardinality Estimates"}, {"paperId": "4c9b0b662682a16de25469d90be05ac3bd3f42a0", "title": "Learning to be a Statistician: Learned Estimator for Number of Distinct Values"}, {"paperId": "d58ac1399a8db5fe436573e7f692a352e0aa8a51", "title": "Cardinality Estimation in DBMS: A Comprehensive Benchmark Evaluation"}, {"paperId": "b2d938e4d9aa7ad7caae82069139209e600f47f2", "title": "FACE: A Normalizing Flow based Cardinality Estimator"}, {"paperId": "2b6be98db7163db8098a099d10a3e1b2dad36130", "title": "Learned Cardinality Estimation: A Design Space Exploration and A Comparative Evaluation"}, {"paperId": "689f70ea07215b58e39dfc624480b2b8e8c5848a", "title": "PerfGuard: Deploying ML-for-Systems without Performance Regressions, Almost!"}, {"paperId": "b1e762e4e70fceb0e95144e728c3cde99c4639d9", "title": "Uncertainty-aware Cardinality Estimation by Neural Network Gaussian Process"}, {"paperId": "c422f461b467833428104b3a4b86db5eb6db24b6", "title": "Fauce: Fast and Accurate Deep Ensembles with Uncertainty for Cardinality Estimation"}, {"paperId": "b362eae4b08e36a01e03ab2b7a51870ebf6d3a97", "title": "Machine Learning for Cloud Data Systems: the Promise, the Progress, and the Path Forward"}, {"paperId": "50d5d4c5f22d8eeb3ea7d4fc1fe6fa039c79a29e", "title": "A Unified Transferable Model for ML-Enhanced DBMS"}, {"paperId": "a3b5f370da76b5192aaa666a85361ba7207f6f8b", "title": "Flow-Loss: Learning Cardinality Estimates That Matter"}, {"paperId": "ccaeed91f8990d08142ace50ebd6225ed85b26ea", "title": "FLAT: Fast, Lightweight and Accurate Method for Cardinality Estimation"}, {"paperId": "b062366d9bcf3284c2a38be0b95765b1aac683bf", "title": "Eraser: Eliminating Performance Regression on Learned Query Optimizer"}, {"paperId": "a397840de4303ca3346466632466892a6a69829a", "title": "PilotScope: Steering Databases with Machine Learning Drivers"}, {"paperId": "2b8f26d46d7f32451d9be83b8c51f0c883b929fb", "title": "SonicJoin: Fast, Robust and Worst-case Optimal"}, {"paperId": "f12c83f4a759971649a5ebc7cdddb5cab89e29fc", "title": "ConvMADE: Convolution Makes Cardinality Estimation Stronger"}, {"paperId": "198d20aa464124dba673da6dc2b10548290233f0", "title": "Learned Query Optimizer: At the Forefront of AI-Driven Databases"}, {"paperId": "91950508688f55b91f91ac6b44efea6ae1dc6c90", "title": "Join Order Optimization with ( Almost ) No Statistics"}, {"paperId": "a1997a2242cb26bb9b6056a58dd043440d421797", "title": "Cardinality Estimation in Inner Product Space"}, {"paperId": "bf543ab21793c939be93572466028bb9cf1c1aa7", "title": "Cardinality Estimation: Is Machine Learning a Silver Bullet?"}, {"paperId": "6fd61a8dd308fab62f7e5efb0dcde074d7ddfb93", "title": "Characterizing Neural Network Veri\ufb01cation for Systems with NN4S YS B ENCH"}]}
