{"paperId": "d180c4b7deaf2ac14b1b1a5d1076dc77fa4c88e9", "publicationVenue": {"id": "d13e941e-4cac-4f1d-bdca-77d927e31f1b", "name": "ACM Symposium on Cloud Computing", "type": "conference", "alternate_names": ["System-on-Chip Conference", "ACM Symp Cloud Comput", "Syst Conf", "Symp Cloud Comput", "Annual IEEE International System-on-Chip Conference", "Symposium on Cloud Computing", "Annu IEEE Int Syst Conf", "SoCC"], "url": "http://www.ieee-socc.org/"}, "title": "Peregrine: Workload Optimization for Cloud Query Engines", "abstract": "Database administrators (DBAs) were traditionally responsible for optimizing the on-premise database workloads. However, with the rise of cloud data services, where cloud providers offer fully managed data processing capabilities, the role of a DBA is completely missing. At the same time, optimizing query workloads is becoming increasingly important for reducing the total costs of operation and making data processing economically viable in the cloud. This paper revisits workload optimization in the context of these emerging cloud-based data services. We observe that the missing DBA in these newer data services has affected both the end users and the system developers: users have workload optimization as a major pain point while the system developers are now tasked with supporting a large base of cloud users. We present Peregrine, a workload optimization platform for cloud query engines that we have been developing for the big data analytics infrastructure at Microsoft. Peregrine makes three major contributions: (i) a novel way of representing query workloads that is agnostic to the query engine and is general enough to describe a large variety of workloads, (ii) a categorization of the typical workload patterns, derived from production workloads at Microsoft, and the corresponding workload optimizations possible in each category, and (iii) a prescription for adding workload-awareness to a query engine, via the notion of query annotations that are served to the query engine at compile time. We discuss a case study of Peregrine using two optimizations over two query engines, namely Scope and Spark. Peregrine has helped cut the time to develop new workload optimization features from years to months, benefiting the research teams, the product teams, and the customers at Microsoft.", "venue": "ACM Symposium on Cloud Computing", "year": 2019, "fieldsOfStudy": ["Computer Science"], "publicationTypes": ["JournalArticle", "Book"], "publicationDate": "2019-11-20", "journal": {"name": "Proceedings of the ACM Symposium on Cloud Computing"}, "authors": [{"authorId": "2153832", "name": "Alekh Jindal"}, {"authorId": "1471618633", "name": "Hiren Patel"}, {"authorId": "2153931746", "name": "Abhishek Roy"}, {"authorId": "49830907", "name": "S. Qiao"}, {"authorId": "2239090", "name": "Zhicheng Yin"}, {"authorId": "3133317", "name": "Rathijit Sen"}, {"authorId": "2494730", "name": "Subru Krishnan"}], "citations": [{"paperId": "86633a906653c2d0f6a4a8104aa9e0bd2869b9a5", "title": "Making Data Clouds Smarter at Keebo: Automated Warehouse Optimization using Data Learning"}, {"paperId": "ac08fa76038762f89a0f6c39ea38655422926408", "title": "Towards Building Autonomous Data Services on Azure"}, {"paperId": "03ff19954a57b692fa8f99f463fe9baeacade52f", "title": "Runtime Variation in Big Data Analytics"}, {"paperId": "c0545612961aba5fe4855748b152d0b4bd877552", "title": "NoSQL Schema Design for Time-Dependent Workloads"}, {"paperId": "344fcf9c139da6c21fa9516a1f57b586507a0d53", "title": "Query Optimizer as a Service"}, {"paperId": "43fee5d9e1065fd9bbfcc152859e4fede0127846", "title": "Ultraverse: Efficient Retroactive Operation for Attack Recovery in Database Systems and Web Frameworks"}, {"paperId": "3330cf365150d11afbaf0c0011157208948dab7f", "title": "Pipemizer: An Optimizer for Analytics Data Pipelines"}, {"paperId": "8e2aefa5baeb2a250f15920976a94721bff004d5", "title": "Deploying a Steered Query Optimizer in Production at Microsoft"}, {"paperId": "cf8605f0c39688ad58a91c055527b6af988d7b10", "title": "DISTILL: Low-Overhead Data-Driven Techniques for Filtering and Costing Indexes for Scalable Index Tuning"}, {"paperId": "51c818da1ffef3e703ab1f5143c9b9ddfd820412", "title": "RobustScaler: QoS-Aware Autoscaling for Complex Workloads"}, {"paperId": "9c9a6a89396be6b1faa808df108b10f0bb2b65ec", "title": "Predictive Price-Performance Optimization for Serverless Query Processing"}, {"paperId": "9c1b979b8ba820a712e3198f5cede008a89acbbd", "title": "On the Potential of Execution Traces for Batch Processing Workload Optimization in Public Clouds"}, {"paperId": "689f70ea07215b58e39dfc624480b2b8e8c5848a", "title": "PerfGuard: Deploying ML-for-Systems without Performance Regressions, Almost!"}, {"paperId": "f68f33eafa34d1406f464caf573c0d30c3bb76b3", "title": "Optimal Resource Allocation for Serverless Queries"}, {"paperId": "72e11b7b04c1a5df1b660b143c626355ad27de0f", "title": "Phoebe: A Learning-based Checkpoint Optimizer"}, {"paperId": "cd2cffd679291c11ae3989fbe2f76a4b686777a9", "title": "AutoExecutor: Predictive Parallelism for Spark SQL Queries"}, {"paperId": "b362eae4b08e36a01e03ab2b7a51870ebf6d3a97", "title": "Machine Learning for Cloud Data Systems: the Promise, the Progress, and the Path Forward"}, {"paperId": "15a1e0ec53c9b710bbb4252bdd454b870a35b5e1", "title": "SparkCruise: Workload Optimization in Managed Spark Clusters at Microsoft"}, {"paperId": "d5c2a4c5904a999b4c8a2f848ae91f4525c179d0", "title": "KEA: Tuning an Exabyte-Scale Data Infrastructure"}, {"paperId": "01e858656aa3ef8d6b8463042298d86473236985", "title": "Steering Query Optimizers: A Practical Take on Big Data Workloads"}, {"paperId": "8d0dd632c9da4740df4aa729821109169fd82805", "title": "Microlearner: A fine-grained Learning Optimizer for Big Data Workloads at Microsoft"}, {"paperId": "ca42e879b1ca997ce22b8d9ebe2d1ec5c274861e", "title": "Applied Research Lessons from CloudViews Project"}, {"paperId": "4daecbf5af5dc2511abc31eecbfc2d8adb54db10", "title": "AutoToken"}, {"paperId": "e9bb419606a0030e450476da0905560a24a69014", "title": "MLOS: An Infrastructure for Automated Software Performance Engineering"}, {"paperId": "cabad57bddc859504460dfd44d74cb1017d70910", "title": "Microservices made attack-resilient using unsupervised service fissioning"}, {"paperId": "953540c50b72db246d42c4e582028fd9531b0a58", "title": "RobustPeriod: Robust Time-Frequency Mining for Multiple Periodicity Detection"}, {"paperId": "a538810087c7d8b240bf512ae997144fcbea466f", "title": "Towards Optimal Resource Allocation for Big Data Analytics"}, {"paperId": "7396b87c86f9a6f1edf25f8753f787e9578d0afb", "title": "Production Experiences from Computation Reuse at Microsoft"}, {"paperId": "2d77eb067dea7ebd25685e8e53a29df1f7cc68e8", "title": "Phoebe: A Learning-based Checkpoint Optimizer"}, {"paperId": "2e271bf3d5761c89d8772c90f2c699666ed18dc5", "title": "This paper is included in the Proceedings of the 14th USENIX Symposium on Operating Systems Design and Implementation"}]}
