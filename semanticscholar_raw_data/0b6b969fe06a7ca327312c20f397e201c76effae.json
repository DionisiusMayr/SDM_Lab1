{"paperId": "0b6b969fe06a7ca327312c20f397e201c76effae", "publicationVenue": {"id": "d4610af5-85e0-480b-8773-5c71d92a7b99", "name": "International Conference on Architectural Support for Programming Languages and Operating Systems", "type": "conference", "alternate_names": ["ASPLOS", "Int Conf Archit Support Program Lang Oper Syst", "Archit Support Program Lang Oper Syst", "Architectural Support for Programming Languages and Operating Systems"], "url": "http://www.acm.org/sigplan/"}, "title": "Propeller: A Profile Guided, Relinking Optimizer for Warehouse-Scale Applications", "abstract": "While profile guided optimizations (PGO) and link time optimiza-tions (LTO) have been widely adopted, post link optimizations (PLO)have languished until recently when researchers demonstrated that late injection of profiles can yield significant performance improvements. However, the disassembly-driven, monolithic design of post link optimizers face scaling challenges with large binaries andis at odds with distributed build systems. To reconcile and enable post link optimizations within a distributed build environment, we propose Propeller, a relinking optimizer for warehouse scale work-loads. To enable flexible code layout optimizations, we introduce basic block sections, a novel linker abstraction. Propeller uses basic block sections to enable a new approach to PLO without disassembly. Propeller achieves scalability by relinking the binary using precise profiles instead of rewriting the binary. The overhead of relinking is lowered by caching and leveraging distributed compiler actions during code generation. Propeller has been deployed to production at Google with over tens of millions of cores executing Propeller optimized code at any time. An evaluation of internal warehouse-scale applications show Propeller improves performance by 1.1% to 8% beyond PGO and ThinLTO. Compiler tools such as Clang improve by 7% while MySQL improves by 1%. Compared to the state of the art binary optimizer, Propeller achieves comparable performance while lowering memory overheads by 30%-70% on large benchmarks.", "venue": "International Conference on Architectural Support for Programming Languages and Operating Systems", "year": 2023, "fieldsOfStudy": ["Computer Science"], "publicationTypes": ["Book", "JournalArticle", "Conference"], "publicationDate": "2023-01-27", "journal": {"name": "Proceedings of the 28th ACM International Conference on Architectural Support for Programming Languages and Operating Systems, Volume 2"}, "authors": [{"authorId": "2203406885", "name": "Han Shen"}, {"authorId": "1557383850", "name": "Krzysztof Pszeniczny"}, {"authorId": "2121256", "name": "Rahman Lavaee"}, {"authorId": "37852689", "name": "Snehasish Kumar"}, {"authorId": "2107688", "name": "Sriraman Tallam"}, {"authorId": "2108184996", "name": "X. Li"}], "citations": [{"paperId": "c3cd8a7d37a017a5cdc5f1ad3013acaebbced679", "title": "Revamping Sampling-Based PGO with Context-Sensitivity and Pseudo-instrumentation"}, {"paperId": "200884b81ab52ad288b2d839e2dece5ddc615665", "title": "Stale Profile Matching"}, {"paperId": "63a00d24004655718d8cbfc93da3253ffd848be9", "title": "A Highly Effective Optimization Approach for Managing Reverse Warehouse System Capacity Across Diverse Scenarios"}, {"paperId": "b0683118a90f4af21ea3dfd9176ffd9c728592d1", "title": "JACO: JAva Code Layout Optimizer Enabling Continuous Optimization without Pausing Application Services"}, {"paperId": "57688b9b73ad09aa038d92e6145a2c228f9266cb", "title": "DASS: Dynamic Adaptive Sub-Target Specialization"}, {"paperId": "0eed53457fc6d3e6b99a6693b92a435b75dd1851", "title": "Online Code Layout Optimizations via OCOLOS"}, {"paperId": "07b46f43efe5247dbe3a9b3eb678119dba5ae327", "title": "Optimizing Function Layout for Mobile Applications"}, {"paperId": "6003c79a6d6309ae7273835ca939443d089757f4", "title": "Getting a Handle on Unmanaged Memory"}]}
