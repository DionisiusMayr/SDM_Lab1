{"paperId": "583950c964ef5f18b0d6eff5bd722e0c213458e8", "publicationVenue": {"id": "e4f51561-5050-4b9c-87c2-c49957677fbf", "name": "European Conference on Computer Systems", "type": "conference", "alternate_names": ["Eur Conf Comput Syst", "EuroSys"], "url": "http://www.eurosys.org/"}, "title": "SmartHarvest: harvesting idle CPUs safely and efficiently in the cloud", "abstract": "We can increase the efficiency of public cloud datacenters by harvesting allocated but temporarily idling CPU cores from customer virtual machines (VMs) to run batch or analytics workloads. Even small efficiency gains translate into substantial savings, since provisioning and operating a datacenter costs hundreds of millions of dollars per year. The main challenge is to harvest idle cores with little or no impact on customer VMs, which could be running latency-sensitive services and are essentially black-boxes to the cloud provider. We introduce ElasticVM, a new VM type that can run batch workloads cheaply using mainly harvested cores. We also propose SmartHarvest, a system that dynamically manages the number of cores available to ElasticVMs in each fine-grained time window. SmartHarvest uses online learning to predict the core demand of primary, customer VMs and compute the number of cores that can be safely harvested. Our results show that SmartHarvest can harvest a significant amount of CPU resources without increasing the 99th-percentile tail latency of latency-critical primary workloads by more than 10%. Unlike static harvesting techniques that rely on offline profiling, SmartHarvest is robust to different primary workloads, batch workloads, and load changes. Finally, we show that the online learning in SmartHarvest is complementary to systems optimizations for VM management.", "venue": "European Conference on Computer Systems", "year": 2021, "fieldsOfStudy": ["Computer Science"], "publicationTypes": ["Book", "JournalArticle", "Conference"], "publicationDate": "2021-04-21", "journal": {"name": "Proceedings of the Sixteenth European Conference on Computer Systems"}, "authors": [{"authorId": "2115626425", "name": "Ya-wen Wang"}, {"authorId": "2103308821", "name": "K. Arya"}, {"authorId": "27072743", "name": "Marios Kogias"}, {"authorId": "1939428", "name": "Manohar Vanga"}, {"authorId": "2080045016", "name": "Aditya Bhandari"}, {"authorId": "2397000", "name": "N. Yadwadkar"}, {"authorId": "30721371", "name": "S. Sen"}, {"authorId": "1767761", "name": "S. Elnikety"}, {"authorId": "117272782", "name": "Christos Kozyrakis"}, {"authorId": "2118138", "name": "R. Bianchini"}], "citations": [{"paperId": "dd37714491c3b778f1cbe83dda2c88ca4b9b0104", "title": "vPALs: Towards Verified Performance-aware Learning System For Resource Management"}, {"paperId": "10b591db5c6ccb770da45cc81d5ba6baa81189ce", "title": "Not All Resources are Visible: Exploiting Fragmented Shadow Resources in Shared-State Scheduler Architecture"}, {"paperId": "457babe1c75287f6318269bd6b3d31b3d874b7f2", "title": "Anticipatory Resource Allocation for ML Training"}, {"paperId": "1bfd6547b528587df900307a41786a8fd491f7f9", "title": "Bridging Resource Prediction and System Management: A Case Study in Cloud Systems"}, {"paperId": "d004b35e67f9e9fc70397a580f16397a050add97", "title": "Learning to Drive Software-Defined Solid-State Drives"}, {"paperId": "bb4b51ebc26869fee75b5bfc24e2a6cdcb403459", "title": "Libra: Harvesting Idle Resources Safely and Timely in Serverless Clusters"}, {"paperId": "5aab15b637a7da94977393d2c14a53a5fa08d183", "title": "NextGen-Malloc: Giving Memory Allocator Its Own Room in the House"}, {"paperId": "ce5fb186f2a1c992125e92ec2f908953f8bf4760", "title": "Memtrade: Marketplace for Disaggregated Memory Clouds"}, {"paperId": "517d0f671abb634d3403a0c7b49a4a82bec92864", "title": "Aggregate VM: Why Reduce or Evict VM's Resources When You Can Borrow Them From Other Nodes?"}, {"paperId": "abdb914eb3f39a928cfee1e52f0f4cb93aa40d00", "title": "Alioth: A Machine Learning Based Interference-Aware Performance Monitor for Multi-Tenancy Applications in Public Cloud"}, {"paperId": "559cb3cffff11e68de00935f478753f29a85e14f", "title": "An Application-Oriented Approach to Designing Hybrid CPU Architectures"}, {"paperId": "7b31e133484408a30fc565987039dc3da4d9bc3d", "title": "Snape: Reliable and Low-Cost Computing with Mixture of Spot and On-Demand VMs"}, {"paperId": "3bb7558c0dd3c77c5129e66d377bf7b84d9f4f86", "title": "Harvesting L2 Caches in Server Processors"}, {"paperId": "407045707200d9808313afb59342917da85f80b6", "title": "Autothrottle: A Practical Bi-Level Approach to Resource Management for SLO-Targeted Microservices"}, {"paperId": "870052659d0e4cfea4f709018c8e2fee6d599a41", "title": "Resolution Matters: Revisiting Prediction-Based Job Co-location in Public Clouds"}, {"paperId": "e4722aaf883429dab0c47e5d5065960346929ba3", "title": "Demeter: QoS-aware CPU scheduling to reduce power consumption of multiple black-box workloads"}, {"paperId": "1ce96029435525f2e8512b966277cec37136c584", "title": "Enabling Dynamic Virtual Frequency Scaling for Virtual Machines in the Cloud"}, {"paperId": "765df88eedb407f71ebe15bd645bf88ead68ae05", "title": "Themis: Fair Memory Subsystem Resource Sharing with Differentiated QoS in Public Clouds"}, {"paperId": "bf2b5291361e009f7295338f61a0cafac6c54ba7", "title": "Pond: CXL-Based Memory Pooling Systems for Cloud Platforms"}, {"paperId": "d12ad2867834c0868481e13bb203ebf314772f24", "title": "Memory-harvesting VMs in cloud platforms"}, {"paperId": "cb23f34ec124b79340e4d1f8af6d7c10f080a361", "title": "SOL: safe on-node learning in cloud platforms"}, {"paperId": "a99f35231c40e7b9e80753e21c41502d2a91ea9b", "title": "ServerMore: Opportunistic Execution of Serverless Functions in the Cloud"}, {"paperId": "5d697bca4990a6c0fc082fc1816b87912433002b", "title": "Syrup: User-Defined Scheduling Across the Stack"}, {"paperId": "940d956a6858eabaaf346962f383cdc2746b89fc", "title": "A Learning-based Approach Towards Automated Tuning of SSD Configurations"}, {"paperId": "10de6ca81c1904cd8ada75861b7ef67120f75c19", "title": "Accelerating Serverless Computing by Harvesting Idle Resources"}, {"paperId": "203e6a62af792ca444b8fa679c9d751d720b330c", "title": "Memtrade: A Disaggregated-Memory Marketplace for Public Clouds"}, {"paperId": "6d862df332d45591e4fd7c8350e809f18bdeb58d", "title": "Unlocking unallocated cloud capacity for long, uninterruptible workloads"}, {"paperId": "0894814ae9f32ceca0a7dedebd0abcc4891789d2", "title": "UnFaaSener: Latency and Cost Aware Offloading of Functions from Serverless Platforms"}, {"paperId": "5d5bbcb7b6072f3cac430855449d16719f47cbfc", "title": "Leave Nothing Idle: Filling Datacenter Resource Utilization Gaps with Quicksand"}, {"paperId": "2e2b47660de4bcf92dbd523b13415927f368147e", "title": "BlockFlex: Enabling Storage Harvesting with Software-Defined Flash in Modern Cloud Platforms"}, {"paperId": "2c6ae2908404fab2f490ca31651c5bca4935ce7a", "title": "Autothrottle: A Practical Framework for Harvesting CPUs from SLO-Targeted Microservices"}, {"paperId": "05db1df7c00b00c5db3b8746f2146200c4dc437f", "title": "First-generation Memory Disaggregation for Cloud Platforms"}, {"paperId": "699ce555883da4edf5ef8ef97898e168a7bc2a88", "title": "Learning to Drive Software-Defined Storage"}, {"paperId": "b491e7dc47b0e4c3059969727a6ff4ea10681fa8", "title": "Harvesting Idle Resources in Serverless Computing via Reinforcement Learning"}]}
