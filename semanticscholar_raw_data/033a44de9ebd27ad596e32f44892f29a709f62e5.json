{"paperId": "033a44de9ebd27ad596e32f44892f29a709f62e5", "publicationVenue": {"id": "fa9f9f40-23b0-414b-b557-55ccf8206204", "name": "The Art, Science, and Engineering of Programming", "alternate_names": ["Art Sci Eng Program"], "issn": "2473-7321", "url": "https://programming-journal.org/"}, "title": "Language-integrated provenance in Haskell", "abstract": "Scientific progress increasingly depends on data management, particularly to clean and curate data so that it can be systematically analyzed and reused. A wealth of techniques for managing and curating data (and its provenance) have been proposed, largely in the database community. In particular, a number of influential papers have proposed collecting provenance information explaining where a piece of data was copied from, or what other records were used to derive it. Most of these techniques, however, exist only as research prototypes and are not available in mainstream database systems. This means scientists must either implement such techniques themselves or (all too often) go without. \nThis is essentially a code reuse problem: provenance techniques currently cannot be implemented reusably, only as ad hoc, usually unmaintained extensions to standard databases. An alternative, relatively unexplored approach is to support such techniques at a higher abstraction level, using metaprogramming or reflection techniques. Can advanced programming techniques make it easier to transfer provenance research results into practice? \nWe build on a recent approach called language-integrated provenance, which extends language-integrated query techniques with source-to-source query translations that record provenance. In previous work, a proof of concept was developed in a research programming language called Links, which supports sophisticated Web and database programming. In this paper, we show how to adapt this approach to work in Haskell building on top of the Database-Supported Haskell (DSH) library. \nEven though it seemed clear in principle that Haskell's rich programming features ought to be sufficient, implementing language-integrated provenance in Haskell required overcoming a number of technical challenges due to interactions between these capabilities. Our implementation serves as a proof of concept showing how this combination of metaprogramming features can, for the first time, make data provenance facilities available to programmers as a library in a widely-used, general-purpose language. \nIn our work we were successful in implementing forms of provenance known as where-provenance and lineage. We have tested our implementation using a simple database and query set and established that the resulting queries are executed correctly on the database. Our implementation is publicly available on GitHub. \nOur work makes provenance tracking available to users of DSH at little cost. Although Haskell is not widely used for scientific database development, our work suggests which languages features are necessary to support provenance as library. We also highlight how combining Haskell's advanced type programming features can lead to unexpected complications, which may motivate further research into type system expressiveness.", "venue": "The Art, Science, and Engineering of Programming", "year": 2018, "fieldsOfStudy": ["Computer Science"], "publicationTypes": ["JournalArticle"], "publicationDate": "2018-03-27", "journal": {"name": "ArXiv", "volume": "abs/1803.10202"}, "authors": [{"authorId": "1729625", "name": "J. Stolarek"}, {"authorId": "144320476", "name": "J. Cheney"}], "citations": [{"paperId": "22284af4d3d63da00bd787c3116655681985c51d", "title": "A Coq formalization of data provenance"}, {"paperId": "4af5632c7a1896a5c16d2d6093fe6aef841a744d", "title": "Query Lifting"}, {"paperId": "b634d7fdb9f29be772c670771911dc8c786645a5", "title": "Language-integrated provenance by trace analysis"}]}
