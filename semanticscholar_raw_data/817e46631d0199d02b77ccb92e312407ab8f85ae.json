{"paperId": "817e46631d0199d02b77ccb92e312407ab8f85ae", "publicationVenue": {"id": "86c43745-31d9-4c1a-b33f-ce3aa0042dbb", "name": "USENIX Symposium on Operating Systems Design and Implementation", "type": "conference", "alternate_names": ["Oper Syst Des Implement", "Operating Systems Design and Implementation", "OSDI", "USENIX Symp Oper Syst Des Implement"]}, "title": "Protean: VM Allocation Service at Scale", "abstract": "We describe the design and implementation of Protean - the Microsoft Azure service responsible for allocating Virtual Machines (VMs) to millions of servers around the globe A single instance of Protean serves an entire availability zone (10-100k machines), facilitating seamless failover and scale-out to customers The design has proven robust, enabling a substantial expansion of VM offerings and features with minimal changes to the core infrastructure In particular, Protean preserves a clear separation between policy and mechanisms From a policy perspective, a flexible rule-based Allocation Agent (AA) allows Protean to efficiently address multiple constraints and performance criteria, and adapt to different conditions On the system side, a multi-layer caching mechanism expedites the allocation process, achieving turnaround times of few milliseconds A slight compromise on allocation quality enables multiple AAs to run concurrently on the same inventory, resulting in increased throughput with negligible conflict rate Our results from both simulations and production demonstrate that Protean achieves high throughput and utilization (85-90% on a key utilization metric), while satisfying user-specific requirements We also demonstrate how Protean is adapted to handle capacity crunch conditions, by zooming in on spikes caused by COVID-19 \u00a9 2020 Proceedings of the 14th USENIX Symposium on Operating Systems Design and Implementation, OSDI 2020 All rights reserved", "venue": "USENIX Symposium on Operating Systems Design and Implementation", "year": 2020, "fieldsOfStudy": ["Medicine"], "publicationTypes": ["JournalArticle", "Conference"], "publicationDate": "2020-10-01", "journal": {"pages": "845-861"}, "authors": [{"authorId": "2004361985", "name": "Ori Hadary"}, {"authorId": "46357117", "name": "Luke Marshall"}, {"authorId": "1684547", "name": "Ishai Menache"}, {"authorId": "35361870", "name": "Abhisek Pan"}, {"authorId": "2004359570", "name": "Esaias E. Greeff"}, {"authorId": "2075263254", "name": "David Dion"}, {"authorId": "2004360271", "name": "Star Dorminey"}, {"authorId": "2114034858", "name": "Shailesh Joshi"}, {"authorId": "2144353163", "name": "Yang Chen"}, {"authorId": "3196342", "name": "M. Russinovich"}, {"authorId": "1715172", "name": "T. Moscibroda"}], "citations": [{"paperId": "ec23aea1369168a859624040cb82ee6c3b99b4ba", "title": "Collaborative Filtering-based Fast Delay-aware algorithm for joint VNF deployment and migration in edge networks"}, {"paperId": "3032ab013743817466267b79c90cd8f7bd23a3b9", "title": "Towards Dynamic Request Updating With Elastic Scheduling for Multi-Tenant Cloud-Based Data Center Network"}, {"paperId": "d1bd31903dfaca8b60393d141f516ac09588f4c1", "title": "Multi-Objective Optimization of Consumer Group Autoscaling in Message Broker Systems"}, {"paperId": "f47da80dfb3e6119fed6969af4318e0d503407c7", "title": "Risk-aware Adaptive Virtual CPU Oversubscription in Microsoft Cloud via Prototypical Human-in-the-loop Imitation Learning"}, {"paperId": "a954f343ff273ddb7102bbbb27d6e3f3bca4bcf6", "title": "COIN: Chance-Constrained Imitation Learning for Uncertainty-aware Adaptive Resource Oversubscription Policy"}, {"paperId": "fe214ae34265f06e6ad93712175b3ffe266a97cd", "title": "Cloud Storage Workload Characterization: An Approach with Time-Series Analysis"}, {"paperId": "c7215105141ea2e33a53e5a2c93f7eca19baed75", "title": "Adaptivity, Structure, and Objectives in Sequential Decision-Making"}, {"paperId": "3eac1e61cf75b5cf80d80b0ea0059e15af85b264", "title": "Demystifying the QoS and QoE of Edge-hosted Video Streaming Applications in the Wild with SNESet"}, {"paperId": "2e813191dacfed538106e138057b6676dad8fe6d", "title": "A Data-driven Analysis of a Cloud Data Center: Statistical Characterization of Workload, Energy and Temperature"}, {"paperId": "e9a2d8ae07fae93bf7f1c9340ada968b3d5021a9", "title": "rShare: Alleviating long startup on the Cloud-rendering platform through de-systemization"}, {"paperId": "8aa4e459fa9076fe75019137ac2cfc28f4c4f000", "title": "An optimized learning-based directory placement policy with two-rounds selection in distributed file systems"}, {"paperId": "e05801df26ec29726c136f38f0c5050c5ba4664c", "title": "A Case Against CXL Memory Pooling"}, {"paperId": "4c03951d35ec70c8303167d0b30b58e1469305a5", "title": "Finding Adversarial Inputs for Heuristics using Multi-level Optimization"}, {"paperId": "4c77a3f43f520d95e5ee0fc5d2e0c559b2fad783", "title": "Rethinking Virtual Machines Live Migration for Memory Disaggregation"}, {"paperId": "7dd531a06b65c8cf067f4fe96b383fb1165403aa", "title": "Maximizing VMs' IO Performance on Overcommitted CPUs with Fairness"}, {"paperId": "457babe1c75287f6318269bd6b3d31b3d874b7f2", "title": "Anticipatory Resource Allocation for ML Training"}, {"paperId": "7c636382a2c1225c66cea78cf5c51c2e9e6ada43", "title": "Understanding the Neglected Cost of Serverless Cluster Management"}, {"paperId": "2de252fc7ab9614b843e9e2ec69d668640a3cdab", "title": "CODEC: Cost-Effective Duration Prediction System for Deadline Scheduling in the Cloud"}, {"paperId": "8844062fc954dd5f0fa326ee756947eeece87e76", "title": "Learning to Score: Tuning Cluster Schedulers through Reinforcement Learning"}, {"paperId": "991709d39d039e60a733f4f964a6f1bb967bb0d7", "title": "Temporal Bin Packing with Half-Capacity Jobs"}, {"paperId": "cd421b35fd77a2e53dd3c93ff66d71b2f51682af", "title": "Cloudy Forecast: How Predictable is Communication Latency in the Cloud?"}, {"paperId": "4f6d130948d275d97e4f23a7c3967b0cbfc1061d", "title": "An efficient container bin-packing method for large scale cloud-native clusters"}, {"paperId": "947f24e17af2f6596993fbbb1ed96a31fd391169", "title": "On Optimizing Traffic Scheduling for Multi-replica Containerized Microservices"}, {"paperId": "20c5b896067aafdfb8c08a7f51ccb5c7f8dbca83", "title": "Myths and Misconceptions Around Reducing Carbon Embedded in Cloud Platforms"}, {"paperId": "4dcc7a53784ed44727a23e655b67785ec872bfb8", "title": "PUVAR:Minimize Idle Resource SLO Violations by Uncertainty-Aware Scheduling in Cloud Platforms"}, {"paperId": "ac08fa76038762f89a0f6c39ea38655422926408", "title": "Towards Building Autonomous Data Services on Azure"}, {"paperId": "3da9ab4c73021e3d9eee8f6a126037ec3eea957a", "title": "Scaling a Declarative Cluster Manager Architecture with Query Optimization Techniques"}, {"paperId": "21e8cec7a5d04e73d2ec64572832cb7b51b95373", "title": "How Different are the Cloud Workloads? Characterizing Large-Scale Private and Public Cloud Workloads"}, {"paperId": "9943bbb97a48d10b70453e62307c1c797ed64012", "title": "Assess and Summarize: Improve Outage Understanding with Large Language Models"}, {"paperId": "517d0f671abb634d3403a0c7b49a4a82bec92864", "title": "Aggregate VM: Why Reduce or Evict VM's Resources When You Can Borrow Them From Other Nodes?"}, {"paperId": "50e8c4ebf85bc0475bba198a1b619b8002e380ec", "title": "Chic-sched: a HPC Placement-Group Scheduler on Hierarchical Topologies with Constraints"}, {"paperId": "0c01ed243ab9f99da0ad171b260934b185044af5", "title": "ELASTIC: Edge Workload Forecasting based on Collaborative Cloud-Edge Deep Learning"}, {"paperId": "61c9102a0a0ba5e4c6ba0918fb181610c113df03", "title": "Dynamic Vector Bin Packing for Online Resource Allocation in the Cloud"}, {"paperId": "4bff4da2d6ca4e1885bf734a50fe0a72951273c7", "title": "A Reference Architecture for Datacenter Scheduler Programming Abstractions: Design and Experiments (Work In Progress Paper)"}, {"paperId": "7b31e133484408a30fc565987039dc3da4d9bc3d", "title": "Snape: Reliable and Low-Cost Computing with Mixture of Spot and On-Demand VMs"}, {"paperId": "c8a1df59be8a2ab96d9a36792a9bc0d8dbbe8192", "title": "Design Tradeoffs in CXL-Based Memory Pools for Public Cloud Platforms"}, {"paperId": "5ca3ed8d219b5dbfdecbe4aa8588fd282fd9cca4", "title": "Growable Genetic Algorithm with Heuristic-based Local Search for multi-dimensional resources scheduling of cloud computing"}, {"paperId": "f61dc638433943ead23d29e91a267459d6e738ef", "title": "Conditional Generative Adversarial Network Based Workload Generation for Cloud Cluster"}, {"paperId": "54e1656ad846f1a9c3db539d5cb67802907c2fda", "title": "Arktos: A Hyperscale Cloud Infrastructure for Building Distributed Cloud"}, {"paperId": "7909f97324e25ff1dc517835e4f0b3af280fb629", "title": "System-level Implications of Serverless: Workload Characterizing and Performance Understanding"}, {"paperId": "2c5f927fb023a941eaf0ead4d84c80198075ca9b", "title": "Fast Provisioning of Virtual Machine Based on Intelligent Virtual Machine Image Prefetching"}, {"paperId": "9a12d3e4ff66d59e594241e46abc213dd529088a", "title": "ReAssigner: A Plug-and-Play Virtual Machine Scheduling Intensifier for Heterogeneous Requests"}, {"paperId": "ef1f61e0a9588f13a566d7fab7e431debc5f8332", "title": "Learning Cooperative Oversubscription for Cloud by Chance-Constrained Multi-Agent Reinforcement Learning"}, {"paperId": "35097a42cf673c981c18ada2cad093358539fab2", "title": "CoSpot: a cooperative VM allocation framework for increased revenue from spot instances"}, {"paperId": "be6685bc478a5e346fff422bc4228f54c41105d0", "title": "Characterizing and orchestrating VM reservation in geo-distributed clouds to improve the resource efficiency"}, {"paperId": "abfc1905234674ffa10a3c92bb8765172c458b40", "title": "Serving unseen deep learning models with near-optimal configurations: a fast adaptive search approach"}, {"paperId": "fac709b5dc054c795054b5c70a40232f18a2d1ba", "title": "An empirical investigation of missing data handling in cloud node failure prediction"}, {"paperId": "08b300602400c4af82251189254e9f568ab5ed97", "title": "Towards Fast and Flexible Simulation of Cloud Resource Management"}, {"paperId": "db94b191b134ea6c9c781766f9d280c375101bad", "title": "Network-aware compute and memory allocation in optically composable data centers with deep reinforcement learning and graph neural networks"}, {"paperId": "4ee1f0aa7376346fbb7165dbc91ac8cf97a3804d", "title": "Interval scheduling with economies of scale"}, {"paperId": "defc06199f7c0ac13a7cdaf90c36d332b1310fa4", "title": "LDPP: A Learned Directory Placement Policy in Distributed File Systems"}, {"paperId": "7371ec00cf0b69db48069fc9dbc9c4bdaa3d6c6c", "title": "Resource Allocation in Serverless Query Processing"}, {"paperId": "8c7da682a86cc737308ce929ed5f58dcef67974a", "title": "Data center disaggregation: when and how much?"}, {"paperId": "4417e8e1818678bbc7116574b90b5a35c6bb33a5", "title": "Hindsight Learning for MDPs with Exogenous Inputs"}, {"paperId": "06994add1cd0eb68fed7d3414e156d3b4a4aa032", "title": "Overclocking in Immersion-Cooled Datacenters"}, {"paperId": "5a3ab721e11a23ab36cd34b56a7348e62c93c5e3", "title": "Tenant Placement in Over-subscribed Database-as-a-Service Clusters"}, {"paperId": "eae59a98fceeec7b6d229bb960ee3f5536ae6049", "title": "VMAgent: A Practical Virtual Machine Scheduling Platform"}, {"paperId": "ae0f573689ede7bf747221a5392d75934a2bd4f4", "title": "MemSweeper: virtualizing cluster memory management for high memory utilization and isolation"}, {"paperId": "1fb05621d3934612d888c7fd2ee750a14cffb3b7", "title": "On data reduction for dynamic vector bin packing"}, {"paperId": "2c5686966959c05737dd073aea86df63f148140e", "title": "Optimal Admission Control Mechanism Design for Time-Sensitive Services in Edge Computing"}, {"paperId": "e37bca4fc55721be1b0d43b77f9898ed78c1bc7d", "title": "An Architecture Concept for Short- and Long-term Resource Planning in the Industry 4.0 Environment"}, {"paperId": "2c793ad3ed7c90082798219bb1dded991ae524f2", "title": "Spot Virtual Machine Eviction Prediction in Microsoft Cloud"}, {"paperId": "39667c841249644ce67ebf33d8fed493b5a1cea0", "title": "LiteReconfig: cost and content aware reconfiguration of video object detection systems for mobile GPUs"}, {"paperId": "bf2b5291361e009f7295338f61a0cafac6c54ba7", "title": "Pond: CXL-Based Memory Pooling Systems for Cloud Platforms"}, {"paperId": "90d6b25b9aeb2d21f3d7d5629266ee0699927f50", "title": "Evaluating and reducing cloud waste and cost - A data-driven case study from Azure workloads"}, {"paperId": "cb23f34ec124b79340e4d1f8af6d7c10f080a361", "title": "SOL: safe on-node learning in cloud platforms"}, {"paperId": "1b12904d863e4f4479812485ef2b437de4e02997", "title": "Gridiron: A Technique for Augmenting Cloud Workloads with Network Bandwidth Requirements"}, {"paperId": "d621d4a8c135747ab4d3ad2c10353a3e8fd56569", "title": "VMAgent: Scheduling Simulator for Reinforcement Learning"}, {"paperId": "35058840beb43870a113239e712947995269c210", "title": "Redy: Remote Dynamic Memory Cache"}, {"paperId": "6835032558e1f88d030cd0d1f0cc9400e8c84af9", "title": "Redesigning Data Centers for Renewable Energy"}, {"paperId": "476a560c65038f0cd9744603ce83c484b1e9a7bf", "title": "Provisioning Differentiated Last-Level Cache Allocations to VMs in Public Clouds"}, {"paperId": "ad06b571f84e11fc7ff8a376670725b4b9ecf9c6", "title": "Generating Complex, Realistic Cloud Workloads using Recurrent Neural Networks"}, {"paperId": "4047054936ac60b7562b28d2551319ab76ce7364", "title": "RAS: Continuously Optimized Region-Wide Datacenter Resource Allocation"}, {"paperId": "93a8ebf88d1c346c3276d604994e794aa7ab25d1", "title": "Shard Manager: A Generic Shard Management Framework for Geo-distributed Applications"}, {"paperId": "3e2befa827c9bf279a8069ca5e8c4bf967d207e3", "title": "Repttack: Exploiting Cloud Schedulers to Guide Co-Location Attacks"}, {"paperId": "2803a5ad7115969c7d150d35d5b3b398b85e8994", "title": "From cloud to edge: a first look at public edge platforms"}, {"paperId": "2abc1b800bb0c8f6e42a13f008c2fd40db2f54a1", "title": "Fundy: A Scalable and Extensible Resource Manager for Cloud Resources"}, {"paperId": "6ff0ad093ea13f74ad61ab8798ee072df1779873", "title": "Predictive Job Scheduling under Uncertain Constraints in Cloud Computing"}, {"paperId": "d5c2a4c5904a999b4c8a2f848ae91f4525c179d0", "title": "KEA: Tuning an Exabyte-Scale Data Infrastructure"}, {"paperId": "6e41b37934200c36f3f291aa64a17a36911e25f3", "title": "Cost-Efficient Overclocking in Immersion-Cooled Datacenters"}, {"paperId": "0fdec60e25a90214888201808d48525423f3d63c", "title": "Megha: Decentralized Global Fair Scheduling for Federated Clusters"}, {"paperId": "842bd2d15d53e3083c110e0af55ffd7447ad03e4", "title": "Prediction-Based Power Oversubscription in Cloud Platforms"}, {"paperId": "0f7d041d3147e71b6c09d188c6c52389d4b901f0", "title": "Providing SLOs for Resource-Harvesting VMs in Cloud Platforms"}, {"paperId": "8f4e626c2783b0fada28d206c3584ed6674ba53f", "title": "Beware of Fragmentation: Scheduling GPU-Sharing Workloads with Fragmentation Gradient Descent"}, {"paperId": "1b733fddb370e38f89e17dddefb015c61fa2459d", "title": "SelfTune: Tuning Cluster Managers"}, {"paperId": "846c2ea97b8d2d280e7a1cf15ddd83aa08f7b22b", "title": "Disaggregating Stateful Network Functions"}, {"paperId": "6d862df332d45591e4fd7c8350e809f18bdeb58d", "title": "Unlocking unallocated cloud capacity for long, uninterruptible workloads"}, {"paperId": "978ee3020c695c248b68fd3859e49acd182fdd71", "title": "Hyrax: Fail-in-Place Server Operation in Cloud Platforms"}, {"paperId": "6c0598863a7e8ea0d16c84ae7679d06b6b9336bc", "title": "Research Avenues Towards Net-Zero Cloud Platforms"}, {"paperId": "0894814ae9f32ceca0a7dedebd0abcc4891789d2", "title": "UnFaaSener: Latency and Cost Aware Offloading of Functions from Serverless Platforms"}, {"paperId": "d278e3cf247f2f48d5c9bc8e0bb8efe23c606da2", "title": "Efficient Cloud Server Deployment Under Demand Uncertainty"}, {"paperId": "fa195258415a1e87657f9373b355912b81833e40", "title": "Conveyor: One-Tool-Fits-All Continuous Software Deployment at Meta"}, {"paperId": "8082d684b7dadd3cde83b3349bbca943dc227bf1", "title": "CompuCache: Remote Computable Caching using Spot VMs"}, {"paperId": "05db1df7c00b00c5db3b8746f2146200c4dc437f", "title": "First-generation Memory Disaggregation for Cloud Platforms"}, {"paperId": "cfe3a40ea3a11ba50febf991a99af37a80a6d881", "title": "Indirect Network Impact on the Energy Consumption in Multi-clouds for Follow-the-renewables Approaches"}, {"paperId": "05ad5e6c697f33dea3f614606bc4cb6e5bcac14d", "title": "Scaling a Declarative Cluster Manager Architecture with Query Optimization Techniques (Technical Report)"}, {"paperId": "f179f0a4db3e0af0ae212173829d3664ec0b4622", "title": "SONIC: Application-aware Data Passing for Chained Serverless Applications"}, {"paperId": "64f56b0ffbb5a61b8df10101da8a9bd5c6b80e08", "title": "Nara: Learning Network-Aware Resource Allocation Algorithms for Cloud Data Centres"}, {"paperId": "c8775f026c3058344a3da3eedab4258841013522", "title": "Submodular Interval Scheduling"}, {"paperId": "6e6d7306028ddfb2f2faf3e3f2409422baa425e6", "title": "2021 USENIX"}, {"paperId": "970aa40c2e2708abde13b773b4b4f3ac0c39d0f7", "title": "Edinburgh Research Explorer Aggregate VM: Why Reduce or Evict VM\u2019s Resources When You Can Borrow Them From Other Nodes?"}, {"paperId": "f4127885402ef37ef21cb6d4f3c23e02915dcae8", "title": "This paper is included in the Proceedings of the 17th USENIX Symposium on Operating Systems Design and Implementation."}, {"paperId": "a5ca1a6d2d08f8ae0ec562c4ca3eac1714851129", "title": "This paper is included in the Proceedings of the 17th USENIX Symposium on Operating Systems Design and Implementation."}, {"paperId": "cf69b576daa647aa7a39579ad69757a3259315b6", "title": "This paper is included in the Proceedings of the 17th USENIX Symposium on Operating Systems Design and Implementation."}, {"paperId": "e1a8250d164d116fa0e58e1054f781e7e4bfc672", "title": "This paper is included in the Proceedings of the 17th USENIX Symposium on Operating Systems Design and Implementation"}, {"paperId": "72c10a9f66c089b5f796ddc48b7c28aaafa22a42", "title": "VMR 2 L: Virtual Machines Rescheduling Using Reinforcement Learning in Data Centers"}]}
